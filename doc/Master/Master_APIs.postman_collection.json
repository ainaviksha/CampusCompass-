{
    "info": {
        "_postman_id": "8b9e6f3d-a1c2-4b3d-9f8e-d7c6b5a4f3e2",
        "name": "Naviksha Master Engineering APIs",
        "description": "Comprehensive Postman collection for the Naviksha Master Engineering API backend. Includes endpoints for Authentication, College Management, OTP Verification, and Student Onboarding/Applications.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Admin Authentication",
            "description": "Endpoints related to Admin JWT generation",
            "item": [
                {
                    "name": "Admin Login",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/x-www-form-urlencoded"
                            }
                        ],
                        "body": {
                            "mode": "urlencoded",
                            "urlencoded": [
                                {
                                    "key": "username",
                                    "value": "admin",
                                    "type": "text"
                                },
                                {
                                    "key": "password",
                                    "value": "your_secure_admin_password",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Get an Admin JWT access token. Use standard OAuth2 password request form layout."
                    },
                    "response": []
                },
                {
                    "name": "Verify Admin Token",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/auth/verify",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "verify"
                            ]
                        },
                        "description": "Check if an admin token is valid."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Colleges (Admin & Public)",
            "description": "Endpoints to manage and retrieve college data.",
            "item": [
                {
                    "name": "Create College (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Example University\",\n  \"type\": \"Private\",\n  \"established\": \"1990\",\n  \"location\": {\n    \"city\": \"Bangalore\",\n    \"state\": \"Karnataka\"\n  },\n  \"rating\": 4.5,\n  \"examRequired\": \"JEE Main\",\n  \"applicationFee\": 1500\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/colleges/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "colleges",
                                ""
                            ]
                        },
                        "description": "Add a new college record to the database (Admin only)."
                    },
                    "response": []
                },
                {
                    "name": "Get All Colleges (Public)",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/colleges/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "colleges",
                                ""
                            ]
                        },
                        "description": "Retrieve a list of all colleges. Accessible publicly."
                    },
                    "response": []
                },
                {
                    "name": "Initialize Database (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/colleges/init",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "colleges",
                                "init"
                            ]
                        },
                        "description": "Seed or populate the database with initial college data from constants (Admin only)."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "OTP & Verification",
            "description": "Endpoints for sending and verifying OTP via Phone SMS/WhatsApp.",
            "item": [
                {
                    "name": "Send OTP",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone\": \"9876543210\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/otp/send",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "otp",
                                "send"
                            ]
                        },
                        "description": "Send a 4 or 6 digit OTP to a student's phone number."
                    },
                    "response": []
                },
                {
                    "name": "Verify OTP",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone\": \"9876543210\",\n  \"otp\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/otp/verify",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "otp",
                                "verify"
                            ]
                        },
                        "description": "Verify the previously sent OTP. Marks the session as verified in the Database."
                    },
                    "response": []
                },
                {
                    "name": "Bypass OTP (Development)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone\": \"9876543210\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/otp/test-bypass",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "otp",
                                "test-bypass"
                            ]
                        },
                        "description": "Dev utility endpoint to mark a phone number as OTP-verified without actually doing OTP."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Students",
            "description": "Endpoints for onboarding students, updating profiles, and fetching applications.",
            "item": [
                {
                    "name": "Onboard Student",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone\": \"9876543210\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john@example.com\",\n  \"exams\": {\n    \"jeeMain\": 95.5,\n    \"mhcet\": 98.2\n  }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/students/onboard",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "students",
                                "onboard"
                            ]
                        },
                        "description": "Onboard a student (create/upsert document). Phone must be OTP verified first. Returns Student JWT Token."
                    },
                    "response": []
                },
                {
                    "name": "Dev Login (No OTP)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone\": \"9876543210\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/students/dev-login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "students",
                                "dev-login"
                            ]
                        },
                        "description": "Login existing student by just passing phone number. Useful for Testing returning logins."
                    },
                    "response": []
                },
                {
                    "name": "Get My Profile",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{student_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/students/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "students",
                                "me"
                            ]
                        },
                        "description": "Get logged-in student's complete profile."
                    },
                    "response": []
                },
                {
                    "name": "Get Applications",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{student_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/students/applications",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "students",
                                "applications"
                            ]
                        },
                        "description": "Fetch all college applications the student has submitted from Checkout."
                    },
                    "response": []
                },
                {
                    "name": "Submit Applications (Checkout)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{student_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"colleges\": [\n    {\"collegeId\": \"scaler_school_tech\", \"name\": \"Scaler School of Technology\"},\n    {\"collegeId\": \"plaksha_univ\", \"name\": \"Plaksha University\"}\n  ],\n  \"paymentDetails\": {\n    \"paymentId\": \"pay_FakeID123\",\n    \"amount\": 3000,\n    \"status\": \"SUCCESS\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/students/applications",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "students",
                                "applications"
                            ]
                        },
                        "description": "Submit a bulk batch of college applications after successfull checkout."
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8000/api",
            "type": "string"
        },
        {
            "key": "admin_token",
            "value": "paste_admin_jwt_here",
            "type": "string"
        },
        {
            "key": "student_token",
            "value": "paste_student_jwt_here",
            "type": "string"
        }
    ]
}